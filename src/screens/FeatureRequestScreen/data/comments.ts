/**
 * Donn√©es pour les commentaires (mock)
 */

import { User } from './suggestions';

export interface Reaction {
  emoji: string;
  count: number;
  userReacted: boolean;
}

export interface Comment {
  id: string;
  author: User;
  content: string;
  createdAt: Date;
  reactions: Reaction[];
  replies?: Comment[];
  isOfficialResponse?: boolean;
}

// Mock comments pour les suggestions
export const mockComments: Record<string, Comment[]> = {
  '1': [
    {
      id: 'c1',
      author: {
        id: '4',
        name: 'DarkLover',
        emoji: 'üåô',
        badge: 'silver',
        level: 6,
        points: 512,
        totalSuggestions: 5,
        implementedSuggestions: 1,
      },
      content: 'Excellente id√©e ! J\'ajouterais aussi la possibilit√© de personnaliser les couleurs des n√©ons individuellement üé®',
      createdAt: new Date('2025-01-16T10:30:00'),
      reactions: [
        { emoji: 'üëç', count: 23, userReacted: false },
        { emoji: '‚ù§Ô∏è', count: 8, userReacted: false },
      ],
      replies: [
        {
          id: 'c1-r1',
          author: {
            id: '1',
            name: 'DesignGuru',
            emoji: 'üé®',
            badge: 'gold',
            level: 7,
            points: 847,
            totalSuggestions: 12,
            implementedSuggestions: 3,
          },
          content: 'Tr√®s bonne id√©e ! Je vais ajouter √ßa √† la suggestion üëå',
          createdAt: new Date('2025-01-16T11:00:00'),
          reactions: [
            { emoji: 'üëç', count: 12, userReacted: false },
          ],
        },
      ],
    },
    {
      id: 'c2',
      author: {
        id: '99',
        name: 'YamsTeam',
        emoji: 'üë®‚Äçüíª',
        badge: 'legend',
        level: 99,
        points: 99999,
        totalSuggestions: 0,
        implementedSuggestions: 42,
      },
      content: 'Nous adorons cette id√©e ! Elle s\'aligne parfaitement avec notre vision d\'une interface moderne et futuriste. En cours d\'√©tude approfondie avec notre √©quipe design.',
      createdAt: new Date('2025-01-16T14:00:00'),
      reactions: [
        { emoji: 'üëç', count: 45, userReacted: true },
        { emoji: 'üéâ', count: 23, userReacted: false },
        { emoji: '‚ù§Ô∏è', count: 18, userReacted: false },
      ],
      isOfficialResponse: true,
    },
  ],
  '2': [
    {
      id: 'c3',
      author: {
        id: '5',
        name: 'ARFanatic',
        emoji: 'ü•Ω',
        badge: 'gold',
        level: 8,
        points: 923,
        totalSuggestions: 15,
        implementedSuggestions: 4,
      },
      content: 'J\'ai h√¢te de voir √ßa ! La r√©alit√© augment√©e va r√©volutionner l\'exp√©rience du Yams üé≤‚ú®',
      createdAt: new Date('2025-01-12T09:00:00'),
      reactions: [
        { emoji: 'üëç', count: 34, userReacted: false },
        { emoji: 'üî•', count: 12, userReacted: false },
      ],
    },
    {
      id: 'c4',
      author: {
        id: '99',
        name: 'YamsTeam',
        emoji: 'üë®‚Äçüíª',
        badge: 'legend',
        level: 99,
        points: 99999,
        totalSuggestions: 0,
        implementedSuggestions: 42,
      },
      content: 'En d√©veloppement ! üöÄ La physique des d√©s est presque termin√©e. Les d√©s roulent de mani√®re ultra r√©aliste avec collision detection et gravit√© r√©aliste.',
      createdAt: new Date('2025-01-19T16:30:00'),
      reactions: [
        { emoji: 'üëç', count: 67, userReacted: false },
        { emoji: 'üéâ', count: 28, userReacted: false },
        { emoji: 'üî•', count: 19, userReacted: false },
      ],
      isOfficialResponse: true,
    },
  ],
};

// Fonction pour obtenir les commentaires d'une suggestion
export const getCommentsBySuggestionId = (suggestionId: string): Comment[] => {
  return mockComments[suggestionId] || [];
};

// Fonction pour compter le nombre total de commentaires (avec r√©ponses)
export const getTotalCommentCount = (comments: Comment[]): number => {
  let count = comments.length;
  comments.forEach(comment => {
    if (comment.replies) {
      count += comment.replies.length;
    }
  });
  return count;
};
