/**
 * Game Settings Section
 */

import React from 'react';
import { View } from 'react-native';
import { useAppDispatch, useAppSelector } from '../../../store/hooks';
import {
  toggleAutoSave,
  toggleConfirmActions,
  toggleShowHints,
  toggleTutorialMode,
  toggleQuickInput,
  setCelebrationLevel,
  type CelebrationLevel,
} from '../../../store/slices/settingsSlice';
import SettingCard from '../components/SettingCard';
import ToggleSetting from '../components/ToggleSetting';
import SelectorSetting from '../components/SelectorSetting';

const GameSection: React.FC = () => {
  const dispatch = useAppDispatch();
  const autoSaveEnabled = useAppSelector(
    (state) => state.settings.autoSaveEnabled
  );
  const confirmActionsEnabled = useAppSelector(
    (state) => state.settings.confirmActionsEnabled
  );
  const showHintsEnabled = useAppSelector(
    (state) => state.settings.showHintsEnabled
  );
  const tutorialModeEnabled = useAppSelector(
    (state) => state.settings.tutorialModeEnabled
  );
  const quickInputEnabled = useAppSelector(
    (state) => state.settings.quickInputEnabled
  );
  const celebrationLevel = useAppSelector(
    (state) => state.settings.celebrationLevel
  );

  return (
    <SettingCard title="Param√®tres de Jeu üéÆ">
      {/* Sauvegarde automatique */}
      <ToggleSetting
        icon="üíæ"
        title="Sauvegarde automatique"
        description="Sauvegarde apr√®s chaque tour"
        value={autoSaveEnabled}
        onValueChange={() => dispatch(toggleAutoSave())}
        color="#50C878"
      />

      {/* Confirmer les actions */}
      <ToggleSetting
        icon="‚úÖ"
        title="Confirmer les actions"
        description="Demande confirmation avant de barrer"
        value={confirmActionsEnabled}
        onValueChange={() => dispatch(toggleConfirmActions())}
        color="#F39C12"
      />

      {/* Afficher les astuces */}
      <ToggleSetting
        icon="üí°"
        title="Afficher les astuces"
        description="Suggestions de strat√©gie"
        value={showHintsEnabled}
        onValueChange={() => dispatch(toggleShowHints())}
        color="#9B59B6"
      />

      {/* Mode tutoriel */}
      <ToggleSetting
        icon="üéì"
        title="Mode tutoriel"
        description="Aide contextuelle pour d√©butants"
        value={tutorialModeEnabled}
        onValueChange={() => dispatch(toggleTutorialMode())}
        color="#00BCD4"
      />

      {/* Saisie rapide */}
      <ToggleSetting
        icon="‚ö°"
        title="Saisie rapide"
        description="Valeurs sugg√©r√©es en premier"
        value={quickInputEnabled}
        onValueChange={() => dispatch(toggleQuickInput())}
        color="#FF6B6B"
      />

      {/* Niveau de c√©l√©bration */}
      <SelectorSetting<CelebrationLevel>
        icon="üéâ"
        title="Niveau de c√©l√©bration"
        description="Intensit√© des animations de victoire"
        options={[
          { id: 'minimal', label: 'Minimal', icon: '¬∑' },
          { id: 'normal', label: 'Normal', icon: '¬∑¬∑' },
          { id: 'epic', label: '√âpique', icon: '¬∑¬∑¬∑' },
        ]}
        value={celebrationLevel}
        onValueChange={(value) => dispatch(setCelebrationLevel(value))}
      />
    </SettingCard>
  );
};

export default GameSection;
