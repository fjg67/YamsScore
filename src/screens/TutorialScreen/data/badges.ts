/**
 * Définition des badges du tutoriel
 */

import { Badge } from '../types';

export const TUTORIAL_BADGES: Badge[] = [
  // SÉRIE BRONZE - Débutant (12 badges)
  {
    id: 'first_step',
    tier: 'bronze',
    name: 'Premier Pas',
    description: 'Lancer le tutoriel pour la première fois',
    icon: '🥉',
    unlocked: false,
    hidden: false,
    requirement: 'Démarrer le tutoriel',
  },
  {
    id: 'calculator',
    tier: 'bronze',
    name: 'Calculateur',
    description: 'Comprendre le système de bonus',
    icon: '🧮',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter l\'étape "Bonus"',
  },
  {
    id: 'sociable',
    tier: 'bronze',
    name: 'Sociable',
    description: 'Ajouter 4 joueurs à une partie',
    icon: '👥',
    unlocked: false,
    hidden: false,
    requirement: 'Créer une partie avec 4 joueurs',
  },
  {
    id: 'precise',
    tier: 'bronze',
    name: 'Précis',
    description: 'Scorer sans faire d\'erreur',
    icon: '🎯',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter une étape sans erreur',
  },
  {
    id: 'dice_master',
    tier: 'bronze',
    name: 'Maître des Dés',
    description: 'Comprendre toutes les combinaisons de base',
    icon: '🎲',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter les 5 premières étapes',
  },
  {
    id: 'brelan_expert',
    tier: 'bronze',
    name: 'Expert Brelan',
    description: 'Maîtriser le Brelan et le Carré',
    icon: '🃏',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter l\'étape Brelan',
  },
  {
    id: 'full_house_hero',
    tier: 'bronze',
    name: 'Héros du Full',
    description: 'Réussir un Full House parfait',
    icon: '🏠',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter l\'étape Full House',
  },
  {
    id: 'suite_champion',
    tier: 'bronze',
    name: 'Champion des Suites',
    description: 'Comprendre les petites et grandes suites',
    icon: '📊',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter l\'étape Suites',
  },
  {
    id: 'yams_beginner',
    tier: 'bronze',
    name: 'Yamseur Débutant',
    description: 'Réaliser ton premier Yams',
    icon: '⭐',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter l\'étape Yams',
  },
  {
    id: 'beginner_complete',
    tier: 'bronze',
    name: 'Niveau Débutant',
    description: 'Terminer tous les niveaux débutants',
    icon: '🎓',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter les 10 étapes débutant',
  },
  {
    id: 'fast_learner',
    tier: 'bronze',
    name: 'Apprenant Rapide',
    description: 'Compléter 5 étapes en moins de 10 minutes',
    icon: '⚡',
    unlocked: false,
    hidden: false,
    requirement: 'Vitesse < 10min pour 5 étapes',
  },
  {
    id: 'persistent',
    tier: 'bronze',
    name: 'Persévérant',
    description: 'Réessayer une étape jusqu\'à la réussir',
    icon: '💪',
    unlocked: false,
    hidden: false,
    requirement: 'Réussir après 3+ tentatives',
  },

  // SÉRIE ARGENT - Intermédiaire (12 badges)
  {
    id: 'strategist',
    tier: 'silver',
    name: 'Stratège',
    description: 'Maîtriser l\'utilisation des statistiques',
    icon: '🥈',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter l\'étape Statistiques',
  },
  {
    id: 'speedrunner',
    tier: 'silver',
    name: 'Rapide',
    description: 'Compléter le niveau intermédiaire en moins de 5 min',
    icon: '🏃',
    unlocked: false,
    hidden: false,
    requirement: 'Speedrun < 5min',
  },
  {
    id: 'perfectionist',
    tier: 'silver',
    name: 'Perfectionniste',
    description: 'Compléter 100% du tutoriel sans aide',
    icon: '💯',
    unlocked: false,
    hidden: false,
    requirement: 'Aucun hint utilisé',
  },
  {
    id: 'multi_master',
    tier: 'silver',
    name: 'Maître Multi-joueurs',
    description: 'Comprendre la gestion de 4 joueurs simultanés',
    icon: '👑',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter étape Multi-joueurs',
  },
  {
    id: 'shortcut_ninja',
    tier: 'silver',
    name: 'Ninja des Raccourcis',
    description: 'Découvrir tous les raccourcis secrets',
    icon: '🥷',
    unlocked: false,
    hidden: false,
    requirement: 'Trouver 5+ raccourcis',
  },
  {
    id: 'theme_collector',
    tier: 'silver',
    name: 'Collectionneur de Thèmes',
    description: 'Débloquer 3 thèmes différents',
    icon: '🎨',
    unlocked: false,
    hidden: false,
    requirement: 'Posséder 3 thèmes',
  },
  {
    id: 'share_master',
    tier: 'silver',
    name: 'Partageur',
    description: 'Partager tes résultats 3 fois',
    icon: '📤',
    unlocked: false,
    hidden: false,
    requirement: 'Partager 3x',
  },
  {
    id: 'analyzer',
    tier: 'silver',
    name: 'Analyste',
    description: 'Consulter l\'analyse de 5 parties passées',
    icon: '📈',
    unlocked: false,
    hidden: false,
    requirement: 'Analyser 5 parties',
  },
  {
    id: 'intermediate_complete',
    tier: 'silver',
    name: 'Niveau Intermédiaire',
    description: 'Terminer tous les niveaux intermédiaires',
    icon: '🏅',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter les 8 étapes intermédiaire',
  },
  {
    id: 'comeback_king',
    tier: 'silver',
    name: 'Roi du Comeback',
    description: 'Revenir au tutoriel après 1 semaine',
    icon: '🔄',
    unlocked: false,
    hidden: false,
    requirement: 'Reprendre après 7+ jours',
  },
  {
    id: 'night_owl',
    tier: 'silver',
    name: 'Oiseau de Nuit',
    description: 'Compléter une étape après minuit',
    icon: '🦉',
    unlocked: false,
    hidden: false,
    requirement: 'Jouer entre 00h-06h',
  },
  {
    id: 'tutorial_addict',
    tier: 'silver',
    name: 'Accro au Tutoriel',
    description: 'Passer 30 minutes dans le tutoriel',
    icon: '⏱️',
    unlocked: false,
    hidden: false,
    requirement: 'Temps total > 30min',
  },

  // SÉRIE OR - Expert (12 badges)
  {
    id: 'master',
    tier: 'gold',
    name: 'Maître',
    description: 'Compléter tous les niveaux Expert',
    icon: '🥇',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter niveau Expert',
  },
  {
    id: 'influencer',
    tier: 'gold',
    name: 'Influenceur',
    description: 'Partager 10 fois tes exploits',
    icon: '📱',
    unlocked: false,
    hidden: false,
    requirement: 'Partager 10x',
  },
  {
    id: 'collector',
    tier: 'gold',
    name: 'Collectionneur',
    description: 'Débloquer tous les thèmes disponibles',
    icon: '🎁',
    unlocked: false,
    hidden: false,
    requirement: 'Tous les thèmes',
  },
  {
    id: 'ai_challenger',
    tier: 'gold',
    name: 'Challenger IA',
    description: 'Battre l\'IA au mode prédictif',
    icon: '🤖',
    unlocked: false,
    hidden: false,
    requirement: 'Gagner contre IA',
  },
  {
    id: 'speedrun_legend',
    tier: 'gold',
    name: 'Légende du Speedrun',
    description: 'Compléter tout en moins de 10 minutes',
    icon: '⚡',
    unlocked: false,
    hidden: false,
    requirement: 'Speedrun total < 10min',
  },
  {
    id: 'flawless_victory',
    tier: 'gold',
    name: 'Victoire Parfaite',
    description: 'Compléter tout sans une seule erreur',
    icon: '💎',
    unlocked: false,
    hidden: false,
    requirement: 'Perfect run complet',
  },
  {
    id: 'tournament_creator',
    tier: 'gold',
    name: 'Créateur de Tournoi',
    description: 'Créer ton premier tournoi',
    icon: '🏆',
    unlocked: false,
    hidden: false,
    requirement: 'Créer 1 tournoi',
  },
  {
    id: 'probability_expert',
    tier: 'gold',
    name: 'Expert Probabilités',
    description: 'Maîtriser la calculatrice de probabilités',
    icon: '🎰',
    unlocked: false,
    hidden: false,
    requirement: 'Compléter étape Probabilités',
  },
  {
    id: 'all_badges',
    tier: 'gold',
    name: 'Chasseur de Badges',
    description: 'Débloquer 30+ badges',
    icon: '🎖️',
    unlocked: false,
    hidden: false,
    requirement: '30+ badges',
  },
  {
    id: 'mentor',
    tier: 'gold',
    name: 'Mentor',
    description: 'Inviter 5 amis à utiliser l\'app',
    icon: '👨‍🏫',
    unlocked: false,
    hidden: false,
    requirement: '5 invitations',
  },
  {
    id: 'grand_master',
    tier: 'gold',
    name: 'Grand Maître',
    description: 'Atteindre le niveau Légende (21+)',
    icon: '👑',
    unlocked: false,
    hidden: false,
    requirement: 'Niveau 21+',
  },
  {
    id: 'tutorial_complete',
    tier: 'gold',
    name: 'Académie Complète',
    description: 'Compléter 100% du tutoriel',
    icon: '🎓',
    unlocked: false,
    hidden: false,
    requirement: 'Progression 100%',
  },

  // BADGES SECRETS (cachés)
  {
    id: 'explorer',
    tier: 'secret',
    name: 'Explorateur',
    description: 'Découvrir 5 easter eggs cachés',
    icon: '💎',
    unlocked: false,
    hidden: true,
    requirement: '5 easter eggs',
  },
  {
    id: 'triple_yams',
    tier: 'secret',
    name: 'Yamseur Fou',
    description: 'Faire 3 Yams d\'affilée dans le tutoriel',
    icon: '🎲',
    unlocked: false,
    hidden: true,
    requirement: '3 Yams consécutifs',
  },
  {
    id: 'speed_demon',
    tier: 'secret',
    name: 'Speed Demon',
    description: 'Compléter TOUT en moins de 7 minutes',
    icon: '👹',
    unlocked: false,
    hidden: true,
    requirement: 'Speedrun < 7min',
  },
  {
    id: 'konami',
    tier: 'secret',
    name: 'Code Konami',
    description: 'Découvrir le code Konami',
    icon: '🎮',
    unlocked: false,
    hidden: true,
    requirement: '↑↑↓↓←→←→',
  },
  {
    id: 'shake_master',
    tier: 'secret',
    name: 'Shakeur Pro',
    description: 'Secouer le téléphone au bon moment',
    icon: '📳',
    unlocked: false,
    hidden: true,
    requirement: 'Shake 3x',
  },
  {
    id: 'midnight_warrior',
    tier: 'secret',
    name: 'Guerrier de Minuit',
    description: 'Compléter une étape à minuit pile',
    icon: '🌙',
    unlocked: false,
    hidden: true,
    requirement: 'Compléter à 00:00',
  },
];

export const getBadgeById = (id: string): Badge | undefined => {
  return TUTORIAL_BADGES.find(badge => badge.id === id);
};

export const getBadgesByTier = (tier: Badge['tier']): Badge[] => {
  return TUTORIAL_BADGES.filter(badge => badge.tier === tier);
};

export const getUnlockedBadges = (unlockedIds: string[]): Badge[] => {
  return TUTORIAL_BADGES.filter(badge => unlockedIds.includes(badge.id));
};

export const getVisibleBadges = (): Badge[] => {
  return TUTORIAL_BADGES.filter(badge => !badge.hidden);
};

export const getTotalBadgeCount = (): number => {
  return TUTORIAL_BADGES.length;
};
